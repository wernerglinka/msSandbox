<script type="text/javascript">
    // custom event for api loaded
    var videoAPIReady = new Event('videoAPIReady');

    // load the youTube video JS api
    // https://developers.google.com/youtube/iframe_api_reference
    // This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    function onYouTubeIframeAPIReady() {
        window.dispatchEvent(videoAPIReady);
    };
</script>